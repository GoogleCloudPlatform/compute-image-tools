# centos-stream-9-options.cfg

### Anaconda installer configuration.
# Install in text mode.
text --non-interactive
url --url="http://mirror.stream.centos.org/9-stream/BaseOS/$basearch/os"
repo --name=AppStream --baseurl="http://mirror.stream.centos.org/9-stream/AppStream/$basearch/os"
repo --name=CRB --baseurl="http://mirror.stream.centos.org/9-stream/CRB/$basearch/os"
poweroff

# Network configuration
network --bootproto=dhcp --hostname=localhost --device=link

### Disk configuration.
# The bootloader must be set to sdb since sda is the installer.
bootloader --boot-drive=sdb --timeout=0 --append="net.ifnames=0 biosdevname=0 scsi_mod.use_blk_mq=Y"
# EFI partitioning, creates a GPT partitioned disk.
clearpart --drives=sdb --all
part /boot/efi --size=200 --fstype=efi --ondrive=sdb
part / --size=100 --grow --ondrive=sdb --label=root --fstype=xfs

### Installed system configuration.
firewall --enabled
services --enabled=sshd,rngd --disabled=sshd-keygen@
skipx
timezone --utc UTC --ntpservers=metadata.google.internal
rootpw --iscrypted --lock *
firstboot --disabled
user --name=gce --lock
